<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Паспорт объекта</title>
    <link href="../static/staticFiles/status.css" th:href="@{/staticFiles/status.css}" rel="stylesheet" type="text/css" />
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <link href="../static/staticFiles/bootstrap.css" th:href="@{/staticFiles/bootstrap.css}" rel="stylesheet"
          type="text/css">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="../static/staticFiles/updateStatus.js" th:src="@{/staticFiles/updateStatus.js}" type="text/javascript"></script>
</head>
<body>
<h1 id="headerText" hidden>Паспорт объекта</h1>
<header th:insert="blocks/header :: header"></header>
<div class="table-responsive">
    <table class="table table-success table-striped table-hover  table-bordered">
    <tr class="text-center">
        <th rowspan="2">Статус</th>
        <th rowspan="2">Наименование объекта капитального строительства</th>
        <th rowspan="2">Адрес объекта</th>
        <th rowspan="2">Шифр проекта</th>
        <th colspan="8">Застройщик, технический заказчик, лицо, ответственное за эксплуатацию здания, сооружения, или региональный оператор</th>
        <th colspan="8">Лицо, осуществляющее строительство, реконструкцию, капитальный ремонт</th>
        <th colspan="8">Лицо, осуществляющее подготовку проектной документации</th>
        <th colspan="10">Приказ на представителя застройщика, технического заказчика</th>
        <th colspan="6">Приказ на представителя подрядчика</th>
        <th colspan="6">Приказ на представителя подрядчика по вопросам строительного контроля</th>
        <th colspan="10">Приказ на представителя проектировщика</th>
        <th colspan="10">Приказ на представителя иного лица</th>
        <th rowspan="2" th:if="${#authentication.principal.authorities.?[authority == 'USER'].size() > 0}">Действия</th>
    </tr>
    <tr>
        <!-- Застройщик, технический заказчик, лицо, ответственное за эксплуатацию здания, сооружения, или региональный оператор -->
        <th>Наименование заказчика</th>
        <th>ОГРН заказчика</th>
        <th>ИНН заказчика</th>
        <th>Адрес заказчика</th>
        <th>Телефон / факс заказчика</th>
        <th>Наименование саморегулируемой организации заказчика</th>
        <th>ОГРН саморегулируемой организации заказчика</th>
        <th>ИНН саморегулируемой организации заказчика</th>
        <!-- Лицо, осуществляющее строительство, реконструкцию, капитальный ремонт -->
        <th>Наименование подрядчика</th>
        <th>ОГРН подрядчика</th>
        <th>ИНН подрядчика</th>
        <th>Адрес подрядчика</th>
        <th>Телефон / факс подрядчика</th>
        <th>Наименование саморегулируемой организации подрядчика</th>
        <th>ОГРН саморегулируемой организации подрядчика</th>
        <th>ИНН саморегулируемой организации подрядчика</th>
        <!-- Лицо, осуществляющее подготовку проектной документации -->
        <th>Наименование проектировщика</th>
        <th>ОГРН проектировщика</th>
        <th>ИНН проектировщика</th>
        <th>Адрес проектировщика</th>
        <th>Телефон / факс проектировщика</th>
        <th>Наименование саморегулируемой организации проектировщика</th>
        <th>ОГРН саморегулируемой организации проектировщика</th>
        <th>ИНН саморегулируемой организации проектировщика</th>
        <!-- Приказ на представителя заказчика -->
        <th>Должность представителя заказчика</th>
        <th>Фамилия имя отчество представителя заказчика</th>
        <th>Идентификационный номер представителя заказчика в национальном реестре специалистов</th>
        <th>Наименование распорядительного документа</th>
        <th>Номер распорядительного документа</th>
        <th>Дата распорядительного документа</th>
        <th>Наименование организации представителя заказчика</th>
        <th>ОГРН организации представителя заказчика</th>
        <th>ИНН организации представителя заказчика</th>
        <th>Адрес организации представителя заказчика</th>
        <!-- Приказ на представителя подрядчика -->
        <th>Должность представителя подрядчика</th>
        <th>Фамилия имя отчество представителя подрядчика</th>
        <th>Идентификационный номер представителя подрядчика в национальном реестре специалистов</th>
        <th>Наименование распорядительного документа</th>
        <th>Номер распорядительного документа</th>
        <th>Дата распорядительного документа</th>
        <!-- Приказ на представителя подрядчика по вопросам строительного контроля -->
        <th>Должность представителя подрядчика</th>
        <th>Фамилия имя отчество представителя подрядчика</th>
        <th>Идентификационный номер представителя подрядчика в национальном реестре специалистов</th>
        <th>Наименование распорядительного документа</th>
        <th>Номер распорядительного документа</th>
        <th>Дата распорядительного документа</th>
        <!-- Приказ на представителя проектировщика -->
        <th>Должность представителя проектировщика</th>
        <th>Фамилия имя отчество представителя проектировщика</th>
        <th>Идентификационный номер представителя проектировщика в национальном реестре специалистов</th>
        <th>Наименование распорядительного документа</th>
        <th>Номер распорядительного документа</th>
        <th>Дата распорядительного документа</th>
        <th>Наименование организации представителя проектировщика</th>
        <th>ОГРН организации представителя проектировщика</th>
        <th>ИНН организации представителя проектировщика</th>
        <th>Адрес организации представителя проектировщика</th>
        <!-- Приказ на представителя иного лица -->
        <th>Должность представителя иного лица</th>
        <th>Фамилия имя отчество представителя иного лица</th>
        <th>Идентификационный номер представителя иного лица в национальном реестре специалистов</th>
        <th>Наименование распорядительного документа</th>
        <th>Номер распорядительного документа</th>
        <th>Дата распорядительного документа</th>
        <th>Наименование организации представителя иного лица</th>
        <th>ОГРН организации представителя иного лица</th>
        <th>ИНН организации представителя иного лица</th>
        <th>Адрес организации представителя иного лица</th>
    </tr>
    <tr th:each="el : ${passportObjectList}">
        <td>
            <form th:action="'/passport-object-table/' + ${el.id} + '/update-status'" method="post">
                <select name="status" class="status-select" onchange="updateStatus(this.form)">
                    <option value="Готов" th:selected="${el.status == 'Готов'}" data-image-url="/staticFiles/green.png"></option>
                    <option value="В процессе" th:selected="${el.status == 'В процессе'}" data-image-url="/staticFiles/yellow.png"></option>
                    <option value="Требует создания" th:selected="${el.status == 'Требует создания'}" data-image-url="/staticFiles/red.png"></option>
                </select>
            </form>
        </td>
        <td th:text="${el.nameObject}"></td>
        <td th:text="${el.addressObject}"></td>
        <td th:text="${el.projectCode}"></td>
        <!-- Застройщик, технический заказчик, лицо, ответственное за эксплуатацию здания, сооружения, или региональный оператор -->
        <td th:text="${el.nameDeveloper}"></td>
        <td th:text="${el.ogrnDeveloper}"></td>
        <td th:text="${el.innDeveloper}"></td>
        <td th:text="${el.addressDeveloper}"></td>
        <td th:text="${el.phoneDeveloper}"></td>
        <td th:text="${el.nameOrganizationDeveloper}"></td>
        <td th:text="${el.ogrnOrganizationDeveloper}"></td>
        <td th:text="${el.innOrganizationDeveloper}"></td>
        <!-- Лицо, осуществляющее строительство, реконструкцию, капитальный ремонт -->
        <td th:text="${el.nameBuilder}"></td>
        <td th:text="${el.ogrnBuilder}"></td>
        <td th:text="${el.innBuilder}"></td>
        <td th:text="${el.addressBuilder}"></td>
        <td th:text="${el.phoneBuilder}"></td>
        <td th:text="${el.nameOrganizationBuilder}"></td>
        <td th:text="${el.ogrnOrganizationBuilder}"></td>
        <td th:text="${el.innOrganizationBuilder}"></td>
        <!-- Лицо, осуществляющее подготовку проектной документации -->
        <td th:text="${el.namePreparer}"></td>
        <td th:text="${el.ogrnPreparer}"></td>
        <td th:text="${el.innPreparer}"></td>
        <td th:text="${el.addressPreparer}"></td>
        <td th:text="${el.phonePreparer}"></td>
        <td th:text="${el.nameOrganizationPreparer}"></td>
        <td th:text="${el.ogrnOrganizationPreparer}"></td>
        <td th:text="${el.innOrganizationPreparer}"></td>
        <!-- Приказ на представителя заказчика -->
        <td th:text="${el.postCustomer}"></td>
        <td th:text="${el.fioCustomer}"></td>
        <td th:text="${el.idCustomer}"></td>
        <td th:text="${el.nameCustomer}"></td>
        <td th:text="${el.numberCustomer}"></td>
        <td th:text="${el.dataCustomer}"></td>
        <td th:text="${el.nameOrganizationCustomer}"></td>
        <td th:text="${el.ogrnOrganizationCustomer}"></td>
        <td th:text="${el.innOrganizationCustomer}"></td>
        <td th:text="${el.adrOrganizationCustomer}"></td>
        <!-- Приказ на представителя подрядчика -->
        <td th:text="${el.postContractor}"></td>
        <td th:text="${el.fioContractor}"></td>
        <td th:text="${el.idContractor}"></td>
        <td th:text="${el.nameContractor}"></td>
        <td th:text="${el.numberContractor}"></td>
        <td th:text="${el.dataContractor}"></td>
        <!-- Приказ на представителя подрядчика по вопросам строительного контроля -->
        <td th:text="${el.postContractor2}"></td>
        <td th:text="${el.fioContractor2}"></td>
        <td th:text="${el.idContractor2}"></td>
        <td th:text="${el.nameContractor2}"></td>
        <td th:text="${el.numberContractor2}"></td>
        <td th:text="${el.dataContractor2}"></td>
        <!-- Приказ на представителя проектировщика -->
        <td th:text="${el.postProjector}"></td>
        <td th:text="${el.fioProjector}"></td>
        <td th:text="${el.idProjector}"></td>
        <td th:text="${el.nameProjector}"></td>
        <td th:text="${el.numberProjector}"></td>
        <td th:text="${el.dataProjector}"></td>
        <td th:text="${el.nameOrganizationProjector}"></td>
        <td th:text="${el.ogrnOrganizationProjector}"></td>
        <td th:text="${el.innOrganizationProjector}"></td>
        <td th:text="${el.adrOrganizationProjector}"></td>
        <!-- Приказ на представителя иного лица -->
        <td th:text="${el.postAnotherPerson}"></td>
        <td th:text="${el.fioAnotherPerson}"></td>
        <td th:text="${el.idAnotherPerson}"></td>
        <td th:text="${el.nameAnotherPerson}"></td>
        <td th:text="${el.numberAnotherPerson}"></td>
        <td th:text="${el.dataAnotherPerson}"></td>
        <td th:text="${el.nameOrganizationAnotherPerson}"></td>
        <td th:text="${el.ogrnOrganizationAnotherPerson}"></td>
        <td th:text="${el.innOrganizationAnotherPerson}"></td>
        <td th:text="${el.adrOrganizationAnotherPerson}"></td>
        <td th:if="${#authentication.principal.authorities.?[authority == 'USER'].size() > 0}" class="d-flex justify-content-start text-white">
            <a th:href="'/passport-object-table/' + ${el.id} + '/passport-object-edit'" role="button" class="bg-primary btn-sm btn border-white ms-2">Редактировать</a>
            <form th:action="'/passport-object-table/' + ${el.id} + '/passport-object-remove'" method="post">
                <button type="submit" class="bg-primary btn-sm btn border-white ms-2">Удалить</button>
            </form>
        </td>
    </tr>
</table>
</div>
<div class="text-white">
<a th:href="@{/passport-object-add}" th:if="${#authentication.principal.authorities.?[authority == 'USER'].size() > 0}" role="button" class="bg-primary btn border-white mt-3 ms-5">Добавить паспорт объекта</a>
</div>
</body>
</html>